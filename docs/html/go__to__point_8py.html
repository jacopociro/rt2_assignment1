<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Research Track assignment 2: scripts/go_to_point.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Research Track assignment 2
   </div>
   <div id="projectbrief">Second assignment for the research track course in UNIGE</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_53e6fa9553ac22a5646d2a2b2d7b97a1.html">scripts</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">go_to_point.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>go to point algorithm for the robot to reach the imposed goal.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacego__to__point"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html">go_to_point</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacert2__assignment1"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacert2__assignment1.html">rt2_assignment1</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a36304a9f313b0579f7fc69fa01695524"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a36304a9f313b0579f7fc69fa01695524">go_to_point.clbk_odom</a> (msg)</td></tr>
<tr class="memdesc:a36304a9f313b0579f7fc69fa01695524"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is the /odom subscriber callback.  <a href="namespacego__to__point.html#a36304a9f313b0579f7fc69fa01695524">More...</a><br /></td></tr>
<tr class="separator:a36304a9f313b0579f7fc69fa01695524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ee48e5cae36821049b572a96b7c8be"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a31ee48e5cae36821049b572a96b7c8be">go_to_point.change_state</a> (state)</td></tr>
<tr class="memdesc:a31ee48e5cae36821049b572a96b7c8be"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles the state change.  <a href="namespacego__to__point.html#a31ee48e5cae36821049b572a96b7c8be">More...</a><br /></td></tr>
<tr class="separator:a31ee48e5cae36821049b572a96b7c8be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac688bb56fa84763ea2edefc30cae032a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#ac688bb56fa84763ea2edefc30cae032a">go_to_point.normalize_angle</a> (angle)</td></tr>
<tr class="memdesc:ac688bb56fa84763ea2edefc30cae032a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function changes the angle to a fixed interval.  <a href="namespacego__to__point.html#ac688bb56fa84763ea2edefc30cae032a">More...</a><br /></td></tr>
<tr class="separator:ac688bb56fa84763ea2edefc30cae032a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3011a3065fcbefcc1c5ad8c9979669"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a9c3011a3065fcbefcc1c5ad8c9979669">go_to_point.fix_yaw</a> (des_pos)</td></tr>
<tr class="memdesc:a9c3011a3065fcbefcc1c5ad8c9979669"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function turns the robot towards the goal.  <a href="namespacego__to__point.html#a9c3011a3065fcbefcc1c5ad8c9979669">More...</a><br /></td></tr>
<tr class="separator:a9c3011a3065fcbefcc1c5ad8c9979669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8579665c0fbf665f734476554fac37d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#ac8579665c0fbf665f734476554fac37d">go_to_point.go_straight_ahead</a> (des_pos)</td></tr>
<tr class="memdesc:ac8579665c0fbf665f734476554fac37d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function makes the robot reach the positional goal.  <a href="namespacego__to__point.html#ac8579665c0fbf665f734476554fac37d">More...</a><br /></td></tr>
<tr class="separator:ac8579665c0fbf665f734476554fac37d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a406386ca62830c19c93949e923f7bd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a4a406386ca62830c19c93949e923f7bd">go_to_point.fix_final_yaw</a> (des_yaw)</td></tr>
<tr class="memdesc:a4a406386ca62830c19c93949e923f7bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function makes sure the robot faces the desired orientation.  <a href="namespacego__to__point.html#a4a406386ca62830c19c93949e923f7bd">More...</a><br /></td></tr>
<tr class="separator:a4a406386ca62830c19c93949e923f7bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2587220a4ac9c845bc9c5b0b45d5835"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#ac2587220a4ac9c845bc9c5b0b45d5835">go_to_point.done</a> ()</td></tr>
<tr class="memdesc:ac2587220a4ac9c845bc9c5b0b45d5835"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for stopping the robot.  <a href="namespacego__to__point.html#ac2587220a4ac9c845bc9c5b0b45d5835">More...</a><br /></td></tr>
<tr class="separator:ac2587220a4ac9c845bc9c5b0b45d5835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b69278e059ee1f74707fef9342cd90"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a48b69278e059ee1f74707fef9342cd90">go_to_point.time_fun</a> (t)</td></tr>
<tr class="memdesc:a48b69278e059ee1f74707fef9342cd90"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function publishes a message.  <a href="namespacego__to__point.html#a48b69278e059ee1f74707fef9342cd90">More...</a><br /></td></tr>
<tr class="separator:a48b69278e059ee1f74707fef9342cd90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8c9e45da31814a8cd403b354dbd6ba4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#aa8c9e45da31814a8cd403b354dbd6ba4">go_to_point.go_to_point</a> (req)</td></tr>
<tr class="memdesc:aa8c9e45da31814a8cd403b354dbd6ba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called with the action server.  <a href="namespacego__to__point.html#aa8c9e45da31814a8cd403b354dbd6ba4">More...</a><br /></td></tr>
<tr class="separator:aa8c9e45da31814a8cd403b354dbd6ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf799aba43c0ceff9617df0b8ddd5145"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#aaf799aba43c0ceff9617df0b8ddd5145">go_to_point.clbk_vel</a> (vel)</td></tr>
<tr class="memdesc:aaf799aba43c0ceff9617df0b8ddd5145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for /vel subscriber.  <a href="namespacego__to__point.html#aaf799aba43c0ceff9617df0b8ddd5145">More...</a><br /></td></tr>
<tr class="separator:aaf799aba43c0ceff9617df0b8ddd5145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab92bd6db1ec323a4d795ed6cb40aebe1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#ab92bd6db1ec323a4d795ed6cb40aebe1">go_to_point.main</a> ()</td></tr>
<tr class="memdesc:ab92bd6db1ec323a4d795ed6cb40aebe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the ros node and the various ros publisher, subscribers and action.  <a href="namespacego__to__point.html#ab92bd6db1ec323a4d795ed6cb40aebe1">More...</a><br /></td></tr>
<tr class="separator:ab92bd6db1ec323a4d795ed6cb40aebe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a91dbaab25e6080f6b5dbf82cac6ce75c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a91dbaab25e6080f6b5dbf82cac6ce75c">go_to_point.position_</a> = Point()</td></tr>
<tr class="separator:a91dbaab25e6080f6b5dbf82cac6ce75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae444f19eb2019982432760ace036ce03"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#ae444f19eb2019982432760ace036ce03">go_to_point.yaw_</a> = 0</td></tr>
<tr class="separator:ae444f19eb2019982432760ace036ce03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d0ef255bcf5d5faf9ca2764730fb17"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#aa2d0ef255bcf5d5faf9ca2764730fb17">go_to_point.state_</a> = 0</td></tr>
<tr class="separator:aa2d0ef255bcf5d5faf9ca2764730fb17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b4090d0abcbcf0bfa2bcb9329d3036"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a57b4090d0abcbcf0bfa2bcb9329d3036">go_to_point.pub_</a> = None</td></tr>
<tr class="separator:a57b4090d0abcbcf0bfa2bcb9329d3036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc41a9470f0ce9ba018d77ae4d405368"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#afc41a9470f0ce9ba018d77ae4d405368">go_to_point.Velocity</a> = Twist()</td></tr>
<tr class="separator:afc41a9470f0ce9ba018d77ae4d405368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f95834f0959feb3facd17bc7fa2b38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a67f95834f0959feb3facd17bc7fa2b38">go_to_point.yaw_precision_</a> = math.pi / 9</td></tr>
<tr class="separator:a67f95834f0959feb3facd17bc7fa2b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af74ccf49164d0478ca8343e2031d5813"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#af74ccf49164d0478ca8343e2031d5813">go_to_point.yaw_precision_2_</a> = math.pi / 90</td></tr>
<tr class="separator:af74ccf49164d0478ca8343e2031d5813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5">go_to_point.dist_precision_</a> = 0.1</td></tr>
<tr class="separator:a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a524106fc7667a0927951dfd89d52d6a7"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a524106fc7667a0927951dfd89d52d6a7">go_to_point.kp_a</a> = -3.0</td></tr>
<tr class="separator:a524106fc7667a0927951dfd89d52d6a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bc498652ca66932e704e738b50c297b"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a7bc498652ca66932e704e738b50c297b">go_to_point.kp_d</a> = 0.2</td></tr>
<tr class="separator:a7bc498652ca66932e704e738b50c297b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb4e14986fafe5cb73bb8ad0c178869d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#acb4e14986fafe5cb73bb8ad0c178869d">go_to_point.ub_a</a> = 0.6</td></tr>
<tr class="separator:acb4e14986fafe5cb73bb8ad0c178869d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afecad4058844db05d8321199e25b4498"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#afecad4058844db05d8321199e25b4498">go_to_point.lb_a</a> = -0.5</td></tr>
<tr class="separator:afecad4058844db05d8321199e25b4498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c473b9e717200c483d18e66b48152a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacego__to__point.html#a16c473b9e717200c483d18e66b48152a">go_to_point.ub_d</a> = 0.6</td></tr>
<tr class="separator:a16c473b9e717200c483d18e66b48152a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>go to point algorithm for the robot to reach the imposed goal. </p>
<dl class="section author"><dt>Author</dt><dd>Jacopo Ciro Soncini </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>24/8/2022</dd></dl>
<p>Subscribes to: <br  />
 /odom /vel</p>
<p>Publishes to: <br  />
 /cmd_vel /target</p>
<p>Services: <br  />
 None</p>
<p>Action Services: <br  />
 /go_to_point</p>
<p>Description: <br  />
 This node is the node tasked with making sure that the robot reaches the goal, both in orientation and position. The behaviour is handled with 3 states. The first one is tasked with aiming for the goal, using angular velocities. The second state makes sure the robot reaches the goal, giving linear velocities. The last state handles the orientation given with the goal, using angular velocities. The angular and linear velocities are read on the /vel subscriber and sent to the simulation via /cmd_vel publisher. The goal is handled with an action. On the /target publisher I publish the number of reached and aborted goal and, in case it is reached, the time to reach it. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
